@using Microsoft.AspNetCore.Identity
@using ASP.NET_Core.Infrastructure.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<nav class="main-header navbar navbar-expand navbar-white navbar-light">
	<ul class="navbar-nav">
		<li class="nav-item">
			<a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
		</li>
		<li class="nav-item d-none d-sm-inline-block">
			<a asp-controller="Home" asp-action="Index" class="nav-link">Home</a>
		</li>
		<li class="nav-item d-none d-sm-inline-block">
			<a href="#" class="nav-link">News</a>
		</li>
		<li class="nav-item d-none d-sm-inline-block">
			<a href="#" class="nav-link">Faqs</a>
		</li>
	</ul>
	<form class="form-inline ml-3">
		<div class="input-group input-group-sm">
		<input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
		<div class="input-group-append">
			<button class="btn btn-navbar" type="submit">
			<i class="fas fa-search"></i>
			</button>
		</div>
		</div>
	</form>
	<ul class="navbar-nav ml-auto">
		<li class="nav-item dropdown">
		<a class="nav-link" data-toggle="dropdown" href="#">
		@if (SignInManager.IsSignedIn(User))
		{
			<i class="fas fa-user mr-2"> @UserManager.GetUserName(User)</i>
		}
		</a>
		<div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
			<div class="dropdown-divider"></div>
			<a asp-controller="Account" asp-action="ManagementProfile" class="dropdown-item">
				<i class="fa fa-users mr-2"></i> Profile
			</a>
			<div class="dropdown-divider"></div>
			<a asp-controller="Account" asp-action="ChangePassword" class="dropdown-item">
				<i class="fa fa-key mr-2"></i> Change password
			</a>
			@if (SignInManager.IsSignedIn(User))
			{
				<div class="dropdown-divider"></div>
				<form asp-controller="Account" asp-action="Logout" method="post" id="logoutForm">
					<button type="submit" class="dropdown-item">
						<i class="fa fa-power-off mr-2"></i> Log Out
					</button>
				</form>
			}
		</div>
		</li>
	</ul>
</nav>
